<!doctype html>
<html lang="fr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

    <title>SQL COURS - Immobilier</title>
  </head>
  <body>
      <div class="container-fluid">
          <!-- ========================================= -->
		<!-- navigation -->
		<!-- ========================================= -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="#">cours SQL</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
					<div class="navbar-nav">
						<a class="nav-link active" aria-current="page" href="index.php">Accueil</a>
						<a class="nav-link" href="#">Menu 1</a>
						<a class="nav-link" href="#">Menu 2</a>
						<a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Menu 3 - Disabled</a>
					</div>
				</div>
			</div>
		</nav>
      </div>
   
      </div>
      <!-- fin container -->

      <!-- ========================================= -->
			<!-- Contenu principal -->
	    <!-- ========================================= -->
      <div class="container">
          <div class="row">
              <div class="col-sm-12">
                  <h1 class="text-center py-5">SQL COURS - Immobilier</h1>
              </div>
          </div>
          <!-- fin row -->
          <div class="row">
              <div class="col-sm-12">
                <ul>
                    <li>Création de la BDD "immobilier" : <code></code></li>
                    <li>...</li>
                    <li>Création de la table "agence" : 
                        <code>
                            CREATE TABLE IF NOT EXISTS agence (
                            idAgence int(6) NOT NULL AUTO_INCREMENT,
                            nom varchar(100) NOT NULL,
                            adresse varchar(100) NOT NULL,
                            PRIMARY KEY (idAgence)
                            ) EN
                        </code>
                        puis 
                        <code>
                            INSERT INTO agence (idAgence, nom, adresse) VALUES
                            (257400, 'logic-immo', 'rue logic'),
                            (383505, 'century21', 'rue century'),
                            (504585, 'laforet', 'rue laforet'),
                            (544688, 'fnaim', 'rue fnaim'),
                            (608870, 'orpi', 'rue orpi'),
                            (654178, 'foncia', 'rue foncia'),
                            (654658, 'guy-hoquet', 'rue guy-hoquet'),
                            (654893, 'seloger', 'rue seloger'),
                            (692702, 'bouygues immobilier', 'rue bouygues');
                        </code>
                    </li>
                    <li>Création de la table "demande" : 
                        <code>
                            CREATE TABLE IF NOT EXISTS demande (
                            idDemande int(5) NOT NULL AUTO_INCREMENT,
                            idPersonne int(3) NOT NULL,
                            genre varchar(100) NOT NULL,
                            ville varchar(100) NOT NULL,
                            budget int(7) NOT NULL,
                            superficie int(5) NOT NULL,
                            categorie varchar(100) NOT NULL,
                            PRIMARY KEY (idDemande),
                            KEY idPersonne (idPersonne)
                            ) ENGINE=InnoDB DEFAULT CHARSET=latin1;
                        </code>
                        puis 
                        <code>
                            INSERT INTO demande (idDemande, idPersonne, type, ville, budget, superficie, categorie) VALUES
                            (1, 1, 'appartement', 'paris', 530000, 120, 'vente'),
                            (2, 3, 'appartement', 'bordeaux', 120000, 18, 'vente'),
                            (3, 4, 'appartement', 'bordeaux', 145000, 21, 'vente'),
                            (4, 5, 'appartement', 'bordeaux', 152000, 26, 'vente'),
                            (5, 6, 'appartement', 'lyon', 200000, 55, 'vente'),
                            (6, 7, 'appartement', 'paris', 400000, 55, 'vente'),
                            (7, 9, 'appartement', 'paris', 171000, 40, 'vente'),
                            (8, 13, 'appartement', 'paris', 163000, 25, 'vente'),
                            (9, 16, 'appartement', 'paris', 132000, 15, 'vente'),
                            (10, 19, 'appartement', 'paris', 350000, 80, 'vente'),
                            (11, 22, 'appartement', 'lyon', 600, 20, 'location'),
                            (12, 25, 'appartement', 'lyon', 188000, 65, 'vente'),
                            (13, 27, 'appartement', 'paris', 400, 15, 'location'),
                            (14, 28, 'appartement', 'paris', 330500, 100, 'vente'),
                            (15, 31, 'appartement', 'paris', 90000, 15, 'vente'),
                            (16, 32, 'appartement', 'lyon', 123800, 21, 'vente'),
                            (17, 35, 'appartement', 'lyon', 1200, 70, 'vente'),
                            (18, 37, 'appartement', 'lyon', 1500, 100, 'vente'),
                            (19, 43, 'appartement', 'paris', 600, 20, 'location'),
                            (20, 44, 'appartement', 'paris', 750, 30, 'location'),
                            (21, 45, 'appartement', 'bordeaux', 680, 30, 'location'),
                            (22, 46, 'appartement', 'bordeaux', 213000, 40, 'vente'),
                            (23, 47, 'appartement', 'bordeaux', 700, 45, 'location'),
                            (24, 48, 'appartement', 'paris', 195000, 40, 'vente'),
                            (25, 49, 'appartement', 'paris', 250000, 60, 'vente'),
                            (26, 50, 'appartement', 'lyon', 110000, 12, 'vente'),
                            (27, 51, 'appartement', 'lyon', 500, 17, 'location'),
                            (28, 52, 'appartement', 'paris', 800, 40, 'location'),
                            (29, 53, 'appartement', 'paris', 850, 50, 'location'),
                            (30, 54, 'appartement', 'paris', 177000, 40, 'vente'),
                            (31, 55, 'appartement', 'paris', 630, 20, 'location');
                        </code>
                    </li>
                    <li>Création de la table  "logement" :
                        <code>
                            CREATE TABLE IF NOT EXISTS logement (
                            idLogement int(4) NOT NULL AUTO_INCREMENT,
                            genre varchar(100) NOT NULL,
                            ville varchar(100) NOT NULL,
                            prix int(7) NOT NULL,
                            superficie int(5) NOT NULL,
                            categorie varchar(100) NOT NULL,
                            PRIMARY KEY (idLogement)
                            ) ENGINE=InnoDB DEFAULT CHARSET=latin1;
                        </code>
                        puis 
                        <code>
                            INSERT INTO logement (idLogement, genre, ville, prix, superficie, categorie) VALUES
                            (5067, 'appartement', 'paris', 685000, 61, 'vente'),
                            (5089, 'appartement', 'paris', 115000, 15, 'vente'),
                            (5091, 'maison', 'paris', 1510000, 130, 'vente'),
                            (5122, 'appartement', 'bordeaux', 550, 17, 'location'),
                            (5189, 'appartement', 'lyon', 420, 14, 'location'),
                            (5245, 'appartement', 'paris', 360000, 40, 'vente'),
                            (5246, 'appartement', 'paris', 970, 35, 'location'),
                            (5249, 'appartement', 'lyon', 110000, 16, 'vente'),
                            (5269, 'appartement', 'bordeaux', 171500, 33, 'vente'),
                            (5278, 'appartement', 'paris', 802000, 90, 'vente'),
                            (5324, 'appartement', 'lyon', 1090, 31, 'location'),
                            (5336, 'appartement', 'bordeaux', 229600, 27, 'vente'),
                            (5378, 'appartement', 'bordeaux', 121900, 26, 'vente'),
                            (5412, 'appartement', 'paris', 1680, 40, 'location'),
                            (5636, 'appartement', 'paris', 370000, 37, 'vente'),
                            (5661, 'appartement', 'bordeaux', 248600, 36, 'vente'),
                            (5723, 'maison', 'bordeaux', 370600, 45, 'vente'),
                            (5770, 'appartement', 'paris', 339000, 38, 'vente'),
                            (5778, 'appartement', 'bordeaux', 228600, 43, 'vente'),
                            (5779, 'appartement', 'paris', 1310000, 105, 'vente'),
                            (5786, 'appartement', 'paris', 570, 20, 'location'),
                            (5860, 'appartement', 'bordeaux', 98000, 18, 'vente'),
                            (5869, 'appartement', 'lyon', 683600, 60, 'vente'),
                            (5873, 'appartement', 'lyon', 676700, 65, 'vente'),
                            (5898, 'appartement', 'paris', 1890, 40, 'location'),
                            (5961, 'appartement', 'bordeaux', 2650, 45, 'location'),
                            (5963, 'appartement', 'paris', 520000, 60, 'vente'),
                            (5964, 'appartement', 'paris', 280000, 38, 'vente');
                        </code>
                    </li>
                    <li>Création de la table "logement_agence"  : 
                        <code>
                            CREATE TABLE IF NOT EXISTS logement_agence (
                            idLogementAgence int(5) NOT NULL AUTO_INCREMENT,
                            idAgence int(6) NOT NULL,
                            idLogement int(4) NOT NULL,
                            frais int(7) NOT NULL,
                            PRIMARY KEY (idLogementAgence),
                            KEY idAgence (idAgence),
                            KEY idLogement (idLogement)
                            ) ENGINE=InnoDB DEFAULT CHARSET=latin1 ;
                        </code>
                        puis 
                        <code>
                            INSERT INTO logement_agence (idLogementAgence, idAgence, idLogement, frais) VALUES
                            (1, 257400, 5067, 34250),
                            (2, 383505, 5067, 30000),
                            (3, 257400, 5089, 5750),
                            (4, 692702, 5089, 7623),
                            (5, 654178, 5091, 75500),
                            (6, 544688, 5091, 56050),
                            (7, 654893, 5122, 700),
                            (8, 608870, 5189, 350),
                            (9, 257400, 5245, 18856),
                            (10, 544688, 5245, 14230),
                            (11, 608870, 5246, 800),
                            (12, 257400, 5249, 5500),
                            (13, 608870, 5249, 7625),
                            (14, 257400, 5269, 9500),
                            (15, 544688, 5269, 8575),
                            (16, 544688, 5278, 25689),
                            (17, 608870, 5278, 40100),
                            (18, 544688, 5324, 600),
                            (19, 544688, 5336, 9542),
                            (20, 608870, 5336, 11480),
                            (21, 504585, 5378, 8652),
                            (22, 608870, 5378, 6095),
                            (23, 257400, 5412, 680),
                            (24, 544688, 5636, 18500),
                            (25, 608870, 5636, 13654),
                            (26, 654893, 5661, 9462),
                            (27, 654178, 5661, 11656),
                            (28, 608870, 5723, 16233),
                            (29, 504585, 5723, 19654),
                            (30, 692702, 5770, 13655),
                            (31, 654178, 5770, 16950),
                            (32, 383505, 5778, 11430),
                            (33, 654658, 5778, 12655),
                            (34, 654178, 5779, 65500),
                            (35, 654658, 5779, 45032),
                            (36, 654178, 5786, 898),
                            (37, 383505, 5786, 520),
                            (38, 257400, 5860, 4900),
                            (39, 654658, 5860, 8905),
                            (40, 544688, 5869, 23685),
                            (41, 654893, 5869, 34180),
                            (42, 257400, 5873, 33835),
                            (43, 257400, 5898, 900),
                            (44, 383505, 5898, 250),
                            (45, 692702, 5898, 1300),
                            (46, 257400, 5961, 1240),
                            (47, 504585, 5961, 300),
                            (48, 692702, 5961, 890),
                            (49, 257400, 5963, 27542),
                            (50, 692702, 5963, 26000),
                            (51, 383505, 5963, 18455);
                        </code>
                    </li>
                    <li>Création de la table "logement_personne" : 
                        <code>
                            CREATE TABLE IF NOT EXISTS logement_personne (
                            idLogementPersonne int(5) NOT NULL AUTO_INCREMENT,
                            idPersonne int(3) NOT NULL,
                            idLogement int(4) NOT NULL,
                            PRIMARY KEY (idLogementPersonne),
                            UNIQUE KEY idLogement (idLogement),
                            KEY idPersonne (idPersonne)
                            ) ENGINE=InnoDB DEFAULT CHARSET=latin1 ;
                        </code>
                        puis 
                        <code>
                            INSERT INTO logement_personne (idLogementPersonne, idPersonne, idLogement) VALUES
                            (1, 40, 5067),
                            (2, 41, 5089),
                            (3, 42, 5091),
                            (4, 2, 5122),
                            (5, 39, 5189),
                            (6, 7, 5245),
                            (7, 8, 5246),
                            (8, 10, 5249),
                            (9, 18, 5269),
                            (10, 21, 5278),
                            (11, 17, 5324),
                            (12, 36, 5336),
                            (13, 20, 5378),
                            (14, 29, 5412),
                            (15, 24, 5636),
                            (16, 34, 5661),
                            (17, 14, 5723),
                            (18, 57, 5770),
                            (19, 26, 5778),
                            (20, 56, 5779),
                            (21, 12, 5786),
                            (22, 11, 5860),
                            (23, 23, 5869),
                            (24, 38, 5873),
                            (25, 33, 5898),
                            (26, 15, 5961),
                            (27, 30, 5963),
                            (28, 56, 5964);
                        </code>
                    </li>
                    <li>Création de la table "personne" : 
                        <code>
                            CREATE TABLE IF NOT EXISTS personne (
                            idPersonne int(3) NOT NULL AUTO_INCREMENT,
                            prenom varchar(100) NOT NULL,
                            PRIMARY KEY (idPersonne)
                            ) ENGINE=InnoDB DEFAULT CHARSET=latin1 ;
                        </code>
                        puis 
                        <code>
                            INSERT INTO personne (idPersonne, prenom) VALUES
                            (1, 'william'),
                            (2, 'gaetan'),
                            (3, 'mehdi'),
                            (4, 'charles'),
                            (5, 'brigitte'),
                            (6, 'sarah'),
                            (7, 'lucas'),
                            (8, 'quentin'),
                            (9, 'patrick'),
                            (10, 'emmanuel'),
                            (11, 'elodie'),
                            (12, 'agathe'),
                            (13, 'valentine'),
                            (14, 'charlotte'),
                            (15, 'alice'),
                            (16, 'samuel'),
                            (17, 'mathieu'),
                            (18, 'noemie'),
                            (19, 'simon'),
                            (20, 'florian'),
                            (21, 'clement'),
                            (22, 'yvon'),
                            (23, 'lea'),
                            (24, 'chloe'),
                            (25, 'camille'),
                            (26, 'alexandre'),
                            (27, 'julie'),
                            (28, 'leo'),
                            (29, 'antoine'),
                            (30, 'lola'),
                            (31, 'celia'),
                            (32, 'anna'),
                            (33, 'caroline'),
                            (34, 'adele'),
                            (35, 'sabrina'),
                            (36, 'nathalie'),
                            (37, 'franck'),
                            (38, 'tom'),
                            (39, 'johan'),
                            (40, 'priscillia'),
                            (41, 'assia'),
                            (42, 'nathan'),
                            (43, 'aurore'),
                            (44, 'marie'),
                            (45, 'oceane'),
                            (46, 'enzo'),
                            (47, 'ines'),
                            (48, 'hugo'),
                            (49, 'jonathan'),
                            (50, 'axelle'),
                            (51, 'morgane'),
                            (52, 'melissa'),
                            (53, 'kevin'),
                            (54, 'ophelie'),
                            (55, 'victoria'),
                            (56, 'alexis'),
                            (57, 'robin')
                        </code>
                    </li>
                    <li>Création des clefs étrangères : 
                        <code>
                            ALTER TABLE demande
                            ADD CONSTRAINT demande_ibfk_1 FOREIGN KEY (idPersonne) REFERENCES personne (idPersonne);
                        </code>
                        et <br>
                        <code>
                            ALTER TABLE logement_agence
                            ADD CONSTRAINT logement_agence_ibfk_2 FOREIGN KEY (idLogement) REFERENCES logement (idLogement),
                            ADD CONSTRAINT logement_agence_ibfk_1 FOREIGN KEY (idAgence) REFERENCES agence (idAgence);
                        </code>
                        et <br>
                        <code>
                            ALTER TABLE logement_personne
                            ADD CONSTRAINT logement_personne_ibfk_2 FOREIGN KEY (idPersonne) REFERENCES personne (idPersonne),
                            ADD CONSTRAINT logement_personne_ibfk_1 FOREIGN KEY (idLogement) REFERENCES logement (idLogement);
                        </code>
                    </li>
                 </ul>
              </div>
          </div>
          <!-- fin row -->
          <div class="col-sm-12">
              <ol><li>Question : Affichez le nom des agences<code>SELECT nom FROM agence GROUP BY nom;</code></li>
                <li>Question : Affichez le numéro de l'agence « Orpi »<code>SELECT idAgence FROM agence WHERE nom='orpi';</code></li>
                <li>Question : Affichez le premier enregistrement de la table logement<code>SELECT * FROM logement LIMIT 0,1;</code></li>
                <li>Question : Affichez le nombre de logements (Alias : Nombre_de_logements)<code>SELECT COUNT(*) AS 'nombre de logements' FROM logement;</code></li>
                <li>Question : Affichez les logements à vendre à moins de 150 000 € dans l'ordre croissant des prix:<code>SELECT * FROM logement WHERE prix < 150000 AND categorie = 'vente' ORDER BY prix ASC;</code></li>

                <br>
                <li>Affichez le nombre de logements à la location (alias : nombre)<code>SELECT COUNT(idLogement) as 'nombre' FROM logement WHERE categorie = 'location';</code></li>
                <li>Affichez les villes différentes recherchées par les personnes demandeuses d'un logement<code>SELECT DISTINCT ville FROM demande;</code> ou <code></code></li>
                <li>Affichez le nombre de biens à vendre par ville<code>SELECT COUNT(idLogement) AS 'nombre_de_bien_en-vente', ville FROM logement WHERE categorie = 'vente' GROUP BY ville</code> ou <code>SELECT ville, 
                    COUNT(ville) AS 'nombre de logement à la vente'
                    FROM logement
                    WHERE categorie = 'vente' GROUP BY ville</code></li>
                <li>Quelles sont les id des logements destinés à la location ?<code>SELECT idLogement FROM logement WHERE categorie = 'location';</code></li>
                <li>Quels sont les id des logements entre 20 et 30m² ?<code>SELECT idLogement FROM logement WHERE superficie BETWEEN 20 AND 30;</code></li>

                <br>
                <li>Quel est le prix vendeur (hors commission) du logement le moins cher à vendre ? (Alias : prix minimum)<code>SELECT MIN(prix) AS 'prix minimum' FROM logement WHERE categorie = 'vente';
                </code></li>
                <li>Dans quelle ville se trouve les maisons à vendre ?<code>SELECT genre, ville FROM logement WHERE genre = 'maison';</code> ou <code>
                    SELECT DISTINCT(ville) 
                    FROM logement 
                    WHERE genre = 'maison' AND categorie = 'vente';</code></li>
                <li>L'agence Orpi souhaite diminuer les frais qu'elle applique sur le logement ayant l'id « 5246 ». Passer les frais de ce logement de 800 à 730€<code></code></li>
                <li>Quels sont les logements gérés par l'agence « laforet »<code>UPDATE logement_agence SET frais='730' WHERE idLogement = 5246 and idAgence = (SELECT idAgence FROM agence WHERE nom='orpi');</code> ou <code>
                    UPDATE logement_agence
                    SET frais = (frais-800)
                    WHERE logement_agence.idLogement = 5246 AND (
                        SELECT idAgence
                    FROM agence WHERE nom = 'orpi'
                    );</code></li>
                <li>Affichez le nombre de propriétaires dans la ville de Paris (Alias : Nombre propriétaire parisien) 
                    <code>SELECT COUNT(DISTINCT(logement_personne.idPersonne)) 
                        AS 'nbre de propriétaire' 
                        FROM logement_personne, logement 
                        WHERE logement_personne.idLogement = logement.idLogement 
                        AND logement.ville = 'paris'
                    </code>
                    <br>ou
                    <code><del>
                        SELECT COUNT(idLogementPersonne) AS 'nombre de proprio parisien' FROM logement_personne WHERE idLogement IN (SELECT idLogement FROM logement WHERE ville = 'paris')
                    </del></code>
            </li>
            <li>Affichez les informations des trois premières personnes souhaitant acheter un logement
                <code>
                    SELECT * FROM personne, demande
                    WHERE personne.idPersonne = demande.idPersonne 
                    AND demande.categorie = 'vente' LIMIT 0,3;
                </code>
                <br>ou
                <code>
                    SELECT personne.*, demande.* FROM personne, demande 
                    WHERE personne.idPersonne = demande.idPersonne 
                    AND demande.categorie = 'vente' LIMIT 0,3;
                </code>
            </li>

            <br>
                <li>Affichez le prénom du vendeur pour le logement ayant la référence « 5770 » : <code>SELECT personne.prenom, logement_personne.idLogement
                    FROM personne, logement_personne
                    WHERE personne.idPersonne = logement_personne.idPersonne
                    AND logement_personne.idLogement = 5770;</code>
                    <br>ou 
                    <code>SELECT p.prenom, lp.idLogement FROM personne p, logement_personne lp WHERE p.idPersonne = lp.idPersonne AND lp.idLogement=5770;²</code>
                </li>
                <li>Affichez les prénoms des personnes souhaitant accéder à un logement sur la ville de Lyon : <code>SELECT personne.prenom
                    FROM personne, demande
                    WHERE personne.idPersonne = demande.idPersonne
                    AND demande.ville = 'lyon';</code>
                    <br>ou 
                    <code>SELECT prenom FROM personne WHERE idPersonne IN (SELECT idPersonne FROM demande WHERE ville='lyon') </code>
                </li>
                <li>20- Affichez les prénoms des personnes souhaitant accéder à un logement en location sur la ville de Paris : 
                    <code>SELECT prenom FROM personne WHERE idPersonne IN (SELECT idPersonne FROM demande WHERE ville = 'paris' AND categorie = 'location');</code>
                    <br>ou
                    <code>
                        SELECT personne.prenom FROM personne, demande
                        where personne.idPersonne = demande.idPersonne AND demande.ville = 'paris' 
                        AND demande.categorie = 'location';
                    </code>
                </li>
                <li>21- Affichez les prénoms des personnes souhaitant acheter un logement de la plus grande à la plus petite superficie : <code>
                    SELECT logement.idLogement, logement.prix, logement_agence.frais, (logement.prix+logement_agence.frais) as 'prix total' 
                    FROM logement, logement_agence  
                    WHERE logement_agence.idLogement = 5873 AND logement_agence.idLogement=logement.idLogement
                </code></li>
                <li>22- Indiquez les frais ajoutés par l’agence immobilière pour le logement ayant la référence « 5873 »
                    <code>
                        SELECT logement.idLogement, logement.prix, logement_agence.frais, (logement.prix+logement_agence.frais) as 'prix total de logement' 
                        FROM logement , logement_agence  
                        WHERE logement_agence.idLogement = 5873 AND logement_agence.idLogement=logement.idLogement

                    </code>
                </li>

                <li>23- Quel sont les prix finaux proposés par les agences pour la maison à la vente ayant la référence « 5091 » ? (Alias : prix frais d'agence inclus) : 
                    <code>
                        SELECT (logement.prix + logement_agence.frais) AS 'prix finaux' 
                        FROM logement, logement_agence, logement 
                        WHERE logement.idLogement = logement_agence.idLogement and logement.idLogement = 5091;
                    </code>
                    <br> ou 
                    <code>
                        SELECT agence.nom, (logement_agence.frais + logement.prix)
                        AS 'prix finaux'
                        FROM agence, logement_agence, logement
                        WHERE agence.idAgence = logement_agence.idAgence
                        AND logement.idLogement = logement_agence.idLogement
                        AND logement_agence.idLogement = 5091
                    </code>
                    <br> la même avec préfixe <br>
                    <code>
                        SELECT a.nom, (la.frais+l.prix) AS 'prix finaux' 
                        FROM agence a, logement_agence la, logement l 
                        WHERE a.idAgence = la.idAgence 
                        AND l.idLogement = la.idLogement 
                        AND la.idLogement = 5091
                    </code>
                </li>
                    <li>23- Si l'ensemble des logements étaient vendus ou loués demain, quel serait le bénéfice généré grâce aux frais d'agence et pour chaque agence (Alias : benefice, classement : par ordre croissant des gains) : 
                        <!-- <code>
                            SELECT logement.idLogement, logement.prix, logement_agence.frais, (logement.prix+logement_agence.frais) as 'prix total' 
                            FROM logement, logement_agence 
                            WHERE logement_agence.idLogement = 5873 
                            AND logement_agence.idLogement=logement.idLogement;
                        </code> -->
                        <code>
                            SELECT agence.nom, SUM(logement_agence.frais) AS benefice 
                            FROM agence, logement_agence
                            WHERE agence.idAgence = logement_agence.idAgence 
                            GROUP BY logement_agence.idAgence ORDER BY benefice
                        </code>
                    </li>
                    <li>24- Affichez les id des biens en location, les prix, suivis des frais d'agence (classement : dans l'ordre croissant des prix) :
                        <code>
                            SELECT agence.nom, logement.idLogement, logement_agence.frais 
                            FROM logement_agence, logement , agence  
                            WHERE logement_agence.idLogement = logement.idLogement AND logement.categorie='location' AND logement_agence.idAgence=agence.idAgence ORDER BY logement.prix;
                        </code>
                        
                        <!-- <code>
                            SELECT agence.nom, logement.idLogement, logement.prix, logement_agence.frais
                            FROM agence, logement, logement_agence
                            WHERE logement.idLogement = logement_agence.idLogement
                            AND agence.idAgence = logement_agence.idAgence
                            AND logement.categorie = 'location'
                            ORDER BY logement.prix ASC
                        </code> -->
                    </li>
                    <li>25- Quel est le prénom du propriétaire proposant le logement le moins cher à louer ? : 
                        <code>
                            SELECT prenom 
                            FROM personne WHERE idPersonne
                            IN (SELECT idPersonne FROM logement_personne WHERE idLogement 
                            IN (SELECT idLogement FROM logement where categorie='location' 
                            AND prix = (SELECT MIN(prix) FROM logement WHERE categorie='location')));
                        </code>
                        <br> ou 
                        <code>
                            SELECT personne.prenom, logement.prix, logement.idLogement FROM personne, logement, logement_personne WHERE personne.idPersonne = logement_personne.idPersonne AND logement_personne.idLogement = logement.idLogement AND logement.categorie = 'location' ORDER BY logement.prix ASC LIMIT 0,1
                        </code>
                        
                    </li>
                    <li>26- Affichez le prénom et la ville où se trouve le logement de chaque propriétaire : 
                        <code>
                            SELECT personne.prenom, logement.ville
                            FROM  personne,logement, logement_personne
                            WHERE personne.idPersonne = logement_personne.idPersonne
                            AND logement_personne.idLogement = logement.idLogement;
                        </code>
                    </li>
            </ol>
          </div>
          
    
          
    </div> 
      <!-- fin container -->


    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

  </body>
</html>